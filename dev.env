#!/bin/bash

# base project configuration
# --------------------------------------------------------------------
export INTRO_HOME="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
export GOPATH=$INTRO_HOME/gopath


# prereqs - warn people if stuff isn't installed
# --------------------------------------------------------------------
which git > /dev/null || echo "error: `git` not found. Is it installed?"
which go  > /dev/null || echo "error: `go` not found. Is it installed?"


# utility functions
# --------------------------------------------------------------------

function safePrefixPATH {
        # conditionally update the PATH environment variable - don't
        # update PATH if it already contains the path being passed in.
        if [[ ! ":$PATH:" == *":$1:"* ]]; then
                export PATH=$1:$PATH;
        fi
}

# long tail project configuration
# --------------------------------------------------------------------
if [ "$1" != "fast" ]
then
	safePrefixPATH $GOPATH/bin
	go get github.com/levicook/glitch
fi
